<!--
 *  Generated from GenSpringBootGen
 *  Copyright(c) 2019 by RADical Information Design Corporation
 *  Template: editTemplate.html.txt
-->

<html layout:decorator="layout">
  <div layout:fragment="content">

    <form method="post" name="comment_form" id="comment_form" th:action="${formAction}" modelAttribute="pilot" role="form">    
      <table class="table table-striped" id="pilot_edit">
        <thead> 
          <tr>
        <i th:text="${message}"></i>
        <th><h3>Edit Pilot</h3></th>
        <th></th>
        </tr>
        </thead>
        <tbody>
        <div class="form-group">
          <tr>
            <td><label for="lastName">Last Name</label></td>
            <td><input type="text" id="lastName" size="20" name="lastName" th:value="${pilot.lastName}"/></td>
          </tr>

          <tr>
            <td><label for="firstName">First Name</label></td>
            <td><input type="text" id="firstName" size="20" name="firstName" th:value="${pilot.firstName}"/></td>
          </tr>

          <tr>
            <td><label for="middleInitial">Middle Initial</label></td>
            <td><input type="text" id="middleInitial" size="1" name="middleInitial" th:value="${pilot.middleInitial}"/></td>
          </tr>

          <tr>
            <td><label for="nationalIdNumber">National Id Number</label></td>
            <td><input type="text" id="nationalIdNumber" size="20" name="nationalIdNumber" th:value="${pilot.nationalIdNumber}"/></td>
          </tr>

          <tr>
            <td><label for="birthdate">Birthdate</label></td>
            <td><input type="date" id="birthdate" size="12" name="birthdate" th:value="${pilot.birthdate}"/></td>
          </tr>

          <tr>
            <td><label for="notes">Notes</label></td>
            <td><textarea rows="1" id="notes" name="notes" cols="40" th:text="${pilot.notes}"/></td>
          </tr>

          
        </div>
        <input type="hidden" th:field="${pilot.pilotId}"/>
        <button type="submit" id="submit" class="btn btn-primary">Save</button> 
        <a class="btn btn-primary" th:href="@{'{list}'(list=${listPath})}">Cancel/Return</a>
        <button data-btn="pilot-refresh" th:attr="data-pilotId=${pilot.pilotId}" type="SUBMIT" class="btn btn-primary" NAME="frmRefresh" VALUE="Refresh (Discard Changes)">Discard Changes/Refresh</button>
        </tbody>
      </table>
      
<HR />
      <table class="table table-hover">
        <thead>
          <tr>
            <td colspan="5"><h4>Pilot Certifications</h4></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td class="spacer">_</td>
            <th><h5>Aircraft Type</h5></th>
            <th><h5>Certification Number</h5></th>
            <th><h5>Valid From Date</h5></th>
            <th><h5>Expiration Date</h5></th>
            <th><h5>Notes</h5></th>
            </tr>
        </thead>
        <tbody>
          <tr data-th-each="pilotCertification : ${pilot.pilotCertificationCollection}">
            
            <td>
              <button data-btn="aircraftTypeId-edit" th:attr="data-aircraftTypeId=${pilotCertification.pilotCertificationPK.aircraftTypeId}"
                      type="SUBMIT" class="frmEdit" NAME="frmEdit" VALUE="View/Edit AircraftType">
                <span class="fa-stack">
                  <i class="glyphicon glyphicon-edit"></i>
                </span>
              </button>
            </td>
            <td>
            <button data-btn="pilotCertification-delete"
                      th:attr="data-pilotId=${pilotCertification.pilotCertificationPK.pilotId}, data-aircraftTypeId=${pilotCertification.pilotCertificationPK.aircraftTypeId}"
                      type="SUBMIT"
                      class="frmDelete" 
                      NAME="frmDelete" 
                      VALUE="Delete Pilot Certification">
                <span class="fa-stack">
                  <i class="glyphicon glyphicon-trash"></i>
                </span>
              </button>
            </td>

            <td></td>
            <td class="aircraftType" data-th-text="${pilotCertification.aircraftType}"></td>
              <input type="hidden" id="pilotCertificationAircraftTypeId" name="pilotCertificationAircraftTypeId" th:value="${pilotCertification.pilotCertificationPK}==null?null:${pilotCertification.pilotCertificationPK.aircraftTypeId}"/>
                          <td><input type="text" id="pilotCertificationCertificationNumber" size="20" name="pilotCertificationCertificationNumber" th:value="${pilotCertification.certificationNumber}"/></td>
            <td><input type="date" id="pilotCertificationValidFromDate" size="12" name="pilotCertificationValidFromDate" th:value="${pilotCertification.validFromDate}"/></td>
            <td><input type="date" id="pilotCertificationExpirationDate" size="12" name="pilotCertificationExpirationDate" th:value="${pilotCertification.expirationDate}"/></td>
            <td><textarea rows="1" id="pilotCertificationNotes" name="pilotCertificationNotes" cols="40" th:text="${pilotCertification.notes}"/></td>

        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="spacer">_</td>
        </tr>
        <tr>
          <td colspan="5"><h4>Add a Pilot Certification</h4></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td class="spacer">_</td>
            <th><h5>Aircraft Type</h5></th>
            <th><h5>Certification Number</h5></th>
            <th><h5>Valid From Date</h5></th>
            <th><h5>Expiration Date</h5></th>
            <th><h5>Notes</h5></th>
            </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td>
            <select name="pilotCertificationAircraftTypeId">
              <option value="0">[Please select...]</option>
              <option th:each="aircraftType : ${aircraftTypes}" 
                      th:value="${aircraftType.aircraftTypeId}" 
                      th:text="${aircraftType}">NULL</option>
            </select>                  
          </td>
                          <td><input type="text" id="pilotCertificationCertificationNumber" size="20" name="pilotCertificationCertificationNumber" value=""/></td>
            <td><input type="date" id="pilotCertificationValidFromDate" size="12" name="pilotCertificationValidFromDate" value=""/></td>
            <td><input type="date" id="pilotCertificationExpirationDate" size="12" name="pilotCertificationExpirationDate" value=""/></td>
            <td><textarea rows="2" id="pilotCertificationNotes" name="pilotCertificationNotes" cols="40" text=""/></td>

        </tr>

        </tbody>
      </table>
      <table class="table table-hover">
        <thead>
          <tr>
            <td colspan="5"><h4>Flight Crew Members</h4></td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td class="spacer">_</td>
            <th><h5>Flight</h5></th>
            <th><h5>Notes</h5></th>
            </tr>
        </thead>
        <tbody>
          <tr data-th-each="flightCrewMember : ${pilot.flightCrewMemberCollection}">
            
            <td>
              <button data-btn="flightId-edit" th:attr="data-flightId=${flightCrewMember.flightCrewMemberPK.flightId}"
                      type="SUBMIT" class="frmEdit" NAME="frmEdit" VALUE="View/Edit Flight">
                <span class="fa-stack">
                  <i class="glyphicon glyphicon-edit"></i>
                </span>
              </button>
            </td>
            <td>
            <button data-btn="flightCrewMember-delete"
                      th:attr="data-pilotId=${flightCrewMember.flightCrewMemberPK.pilotId}, data-flightId=${flightCrewMember.flightCrewMemberPK.flightId}"
                      type="SUBMIT"
                      class="frmDelete" 
                      NAME="frmDelete" 
                      VALUE="Delete Flight Crew Member">
                <span class="fa-stack">
                  <i class="glyphicon glyphicon-trash"></i>
                </span>
              </button>
            </td>

            <td></td>
            <td class="flight" data-th-text="${flightCrewMember.flight}"></td>
              <input type="hidden" id="flightCrewMemberFlightId" name="flightCrewMemberFlightId" th:value="${flightCrewMember.flightCrewMemberPK}==null?null:${flightCrewMember.flightCrewMemberPK.flightId}"/>
                          <td><textarea rows="1" id="flightCrewMemberNotes" name="flightCrewMemberNotes" cols="40" th:text="${flightCrewMember.notes}"/></td>

        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="spacer">_</td>
        </tr>
        <tr>
          <td colspan="5"><h4>Add a Flight Crew Member</h4></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td class="spacer">_</td>
            <th><h5>Flight</h5></th>
            <th><h5>Notes</h5></th>
            </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td>
            <select name="flightCrewMemberFlightId">
              <option value="0">[Please select...]</option>
              <option th:each="flight : ${flights}" 
                      th:value="${flight.flightId}" 
                      th:text="${flight}">NULL</option>
            </select>                  
          </td>
                          <td><textarea rows="2" id="flightCrewMemberNotes" name="flightCrewMemberNotes" cols="40" text=""/></td>

        </tr>

        </tbody>
      </table>
       

      
      <hr />
      <hr />
      <button type="submit" id="submit" class="btn btn-primary">Save</button>
      <a class="btn btn-primary" th:href="@{'{list}'(list=${listPath})}">Cancel/Return</a>
      <button data-btn="pilot-refresh" th:attr="data-pilotId=${pilot.pilotId}" type="SUBMIT" class="btn btn-primary" NAME="frmRefresh" VALUE="Refresh (Discard Changes)">Discard Changes/Refresh</button>
    </form>
    
        
    
    <script>
      $(document).ready(function(){
      
        $("button[data-btn='pilot-refresh']").on('click', function(e){
            e.preventDefault();
            var form=document.createElement('form');
            document.body.appendChild(form);
            var pilotId=document.createElement('pilotId');
            pilotId.type='hidden';
            pilotId.name='pilotId';
            pilotId.value=$(this).attr('data-pilotId');
            form.appendChild(pilotId);
            form.method='post';
            form.action='/Pilot/Edit';
            form.submit();
          });
          
        

        $("button[data-btn='aircraftTypeId-edit']").on('click', function(e){
            e.preventDefault();
            var form=document.createElement('form');
            document.body.appendChild(form);
            var aircraftTypeId=document.createElement('aircraftTypeId');
            aircraftTypeId.type='hidden';
            aircraftTypeId.name='aircraftTypeId';
            aircraftTypeId.value=$(this).attr('data-aircraftTypeId');
            form.appendChild(aircraftTypeId);
            form.method='post';
            form.action='/AircraftType/Edit';
            form.submit();
          });
        $("button[data-btn='flightId-edit']").on('click', function(e){
            e.preventDefault();
            var form=document.createElement('form');
            document.body.appendChild(form);
            var flightId=document.createElement('flightId');
            flightId.type='hidden';
            flightId.name='flightId';
            flightId.value=$(this).attr('data-flightId');
            form.appendChild(flightId);
            form.method='post';
            form.action='/Flight/Edit';
            form.submit();
          });
          
        $("button[data-btn='pilotCertification-delete']").on('click', function(e){
          e.preventDefault();
          var formDelete=document.createElement('form');
          document.body.appendChild(formDelete);
          
          var pilotId=document.createElement('pilotId');
          pilotId.type='hidden';
          pilotId.name='pilotId';
          pilotId.value=$(this).attr('data-pilotId');
          formDelete.appendChild(pilotId);
          var aircraftTypeId=document.createElement('aircraftTypeId');
          aircraftTypeId.type='hidden';
          aircraftTypeId.name='aircraftTypeId';
          aircraftTypeId.value=$(this).attr('data-aircraftTypeId');
          formDelete.appendChild(aircraftTypeId);
          
          formDelete.method='post';
          formDelete.action='/Pilot/DeletePilotCertification';
          formDelete.submit();
        });
          $("button[data-btn='flightCrewMember-delete']").on('click', function(e){
          e.preventDefault();
          var formDelete=document.createElement('form');
          document.body.appendChild(formDelete);
          
          var flightId=document.createElement('flightId');
          flightId.type='hidden';
          flightId.name='flightId';
          flightId.value=$(this).attr('data-flightId');
          formDelete.appendChild(flightId);
          var pilotId=document.createElement('pilotId');
          pilotId.type='hidden';
          pilotId.name='pilotId';
          pilotId.value=$(this).attr('data-pilotId');
          formDelete.appendChild(pilotId);
          
          formDelete.method='post';
          formDelete.action='/Pilot/DeleteFlightCrewMember';
          formDelete.submit();
        });
          
          

<!--          var spacers = document.getElementsByClassName('spacer');
          var numSpacers = spacers.length;
          console.log('numSpacers: ', numSpacers);
          console.log('typeof numSpacers: ', typeof numSpacers);
          console.log('spacers: ', spacers);
          for (var i=0; i<numSpacers; i++){
          	console.log('spacers[i] = ', spacers[i]);
            	spacers[i].style.visibility = "hidden";
            }
-->
});
    
    
    </script>

    <script src='/js/pilot.js'></script>

  </div>

</html>


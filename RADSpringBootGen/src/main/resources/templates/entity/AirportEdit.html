<!--  
 * Copyright 2018 by RADical Information Design Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 *  Generated by RADSpringBootGen from Edit.html.template.java.txt
-->  
<html layout:decorator="layout">
  <div layout:fragment="content">

    <form method="post" name="comment_form" id="comment_form" th:action="${formAction}" modelAttribute="airport" role="form">    
      <table class="table table-striped" id="airport_edit">
        <thead> 
          <tr>
        <i th:text="${message}"></i>
        <th><h3>Edit Airport</h3></th>
        <th></th>
        </tr>
        </thead>
        <tbody>
        <div class="form-group">
                    <tr>
            <td><label for="shortName">Name</label></td>
            <td><input type="text" id="shortName" size="28" name="shortName" th:value="${airport.shortName}"/></td>
          </tr>

                    <tr>
            <td><label for="iataCode">IATA Code</label></td>
            <td><input type="text" id="iataCode" size="3" name="iataCode" th:value="${airport.iataCode}"/></td>
          </tr>

                    <tr>
            <td><label for="description">Description</label></td>
            <td><textarea rows="1" id="description" name="description" cols="40" th:text="${airport.description}"/></td>
          </tr>

                    <tr>
            <td><label for="portType">Port Type</label></td>
            <td><input type="text" id="portType" size="20" name="portType" th:value="${airport.portType}"/></td>
          </tr>

          
        </div>
        <input type="hidden" th:field="${airport.airportId}"/>
        <button type="submit" id="submit" class="btn btn-primary">Save</button> 
        <a class="btn btn-primary" th:href="@{'{list}'(list=${listPath})}">Cancel/Return</a>
        <button data-btn="airport-refresh" th:attr="data-airportId=${airport.airportId}" type="SUBMIT" class="btn btn-primary" NAME="frmRefresh" VALUE="Refresh (Discard Changes)">Discard Changes/Refresh</button>
        </tbody>
      </table>
      
<HR />
       

      
      <hr />
      <hr />
      <button type="submit" id="submit" class="btn btn-primary">Save</button>
      <a class="btn btn-primary" th:href="@{'{list}'(list=${listPath})}">Cancel/Return</a>
      <button data-btn="airport-refresh" th:attr="data-airportId=${airport.airportId}" type="SUBMIT" class="btn btn-primary" NAME="frmRefresh" VALUE="Refresh (Discard Changes)">Discard Changes/Refresh</button>
    </form>
    
    <hr/>
    <table>
      <thead>
        <tr>
          <th><h4>Flights as Departure</h4></th>
          <th></th>
        </tr>
      </thead>
      <tr data-th-each="flight: ${airport.flightDepartureCollection}">
        <td class="shortName" data-th-text="${flight}"></td>
        <td>
          <form method="post" name="list_form" id="list_form" action="/Flight/Edit" role="form">
         <input type="HIDDEN" class="EntityID" NAME="flightId" th:VALUE="${flight.flightId}" />
         <button type="SUBMIT" class="frmEdit" NAME="frmEdit" VALUE="View/Edit">
                   <span class="fa-stack">
                      <i class="glyphicon glyphicon-edit"></i>
                   </span>
            </button>
          </form>                    
        </td>
     </tr>
    </table>
    <hr/>
    <table>
      <thead>
        <tr>
          <th><h4>Flights as Destination</h4></th>
          <th></th>
        </tr>
      </thead>
      <tr data-th-each="flight: ${airport.flightDestinationCollection}">
        <td class="shortName" data-th-text="${flight}"></td>
        <td>
          <form method="post" name="list_form" id="list_form" action="/Flight/Edit" role="form">
         <input type="HIDDEN" class="EntityID" NAME="flightId" th:VALUE="${flight.flightId}" />
         <button type="SUBMIT" class="frmEdit" NAME="frmEdit" VALUE="View/Edit">
                   <span class="fa-stack">
                      <i class="glyphicon glyphicon-edit"></i>
                   </span>
            </button>
          </form>                    
        </td>
     </tr>
    </table>
        
    
    <script>
      $(document).ready(function(){
      
        $("button[data-btn='airport-refresh']").on('click', function(e){
            e.preventDefault();
            var form=document.createElement('form');
            document.body.appendChild(form);
            var input=document.createElement('input');
            input.type='hidden';
            input.name='airportId';
            input.value=$(this).attr('data-airportId');
            form.appendChild(input);
            form.method='post';
            form.action='/Airport/Edit';
            form.submit();
          });
          
        

          
        
          

<!--          var spacers = document.getElementsByClassName('spacer');
          var numSpacers = spacers.length;
          console.log('numSpacers: ', numSpacers);
          console.log('typeof numSpacers: ', typeof numSpacers);
          console.log('spacers: ', spacers);
          for (var i=0; i<numSpacers; i++){
          	console.log('spacers[i] = ', spacers[i]);
            	spacers[i].style.visibility = "hidden";
            }
-->
});
    
    
    </script>

    <script src='/js/airport.js'></script>

  </div>

</html>

